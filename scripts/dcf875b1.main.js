"use strict";var tripData={locations:[{id:"la1",title:"Los Angeles",time:"2 days",map:{lat:34.0204989,lng:-118.3117325,zoom:11}},{id:"vegas",title:"Las Vegas",time:"1 night",map:{lat:36.125,lng:-115.175,zoom:10}},{id:"canyon",title:"Death Valley / Grand Canyon / Yosemite (night @ Curry Village)",time:"1 day + 1 night",map:{lat:37.737683,lng:-119.572073,zoom:10}},{id:"sf",title:"San Francisco",time:"3 days",map:{lat:37.77493,lng:-122.41942,zoom:10}},{id:"coast1",title:"Come back to LA through the coast",time:"to update",map:{lat:37.77493,lng:-122.41942,zoom:10}}]};!function(a,b,c){function d(a,b,c){j.push({location:a,author:b,comment:c})}function e(b){return!a.trim(b.html())}function f(b,c,d){var e='<div class="suggestion animated fadeIn"><div class="suggestion-author">'+c+"</div><p>"+d+"</p></div>";a("#"+b+" .suggestion-list").append(e),a("#"+b+" .empty-suggestion").remove()}var g=!0,h=a("#trip-step-template").html(),i=b.render(h,c);a("#target").html(i).addClass("animated fadeIn");var j=new Firebase("https://travelsuggestion.firebaseio.com/");j.on("child_added",function(b){f(b.val().location,b.val().author,b.val().comment),g&&(a(".suggestion-list").each(function(){e(a(this))&&a(this).append('<p class="empty-suggestion">No suggestion yet, be the first! :)</p>')}),a(".loading").addClass("hidden"),a(".suggestion-list").removeClass("hidden").addClass("animated fadeInUp"))}),a(".btn-suggest").click(function(){var b,c=a(this).data("trip-step"),e=a("#input-"+c).val();sessionStorage.getItem("author-name")?(b=sessionStorage.getItem("author-name"),d(c,b,e),a("#"+c+" .empty-suggestion").remove(),a("#input-"+c).val("")):(a("#modal-name").modal("show"),a("#btn-save-name").click(function(){b=a("#input-author-name").val(),sessionStorage.setItem("author-name",b),d(c,b,e),a("#"+c+" .empty-suggestion").remove(),a("#modal-name").modal("hide")}))})}(jQuery,Mustache,tripData);